# GOGCTuner 性能分析工具

这个工具用于分析GOGCTuner的性能测试日志，生成详细的分析报告和可视化图表。

## 功能特点

- 解析GOGCTuner测试日志文件
- 生成详细的性能分析报告（文本格式）
- 生成交互式时间线图表（HTML格式），包括：
  - 内存占用随时间变化图
  - GC次数随时间变化图
  - GC CPU耗时随时间变化图
  - GOGC值随时间变化图

## 使用方法

```bash
go run main.go -log <日志文件路径> [-output <报告输出路径>] [-chart <图表输出路径>]
```

### 参数说明

- `-log`: 必需，指定测试日志文件路径
- `-output`: 可选，指定报告输出文件路径，默认为`report.txt`
- `-chart`: 可选，指定图表输出文件路径，默认为`chart.html`

### 示例

```bash
# 基本用法
go run main.go -log ../stress/test_output.log

# 自定义输出路径
go run main.go -log ../stress/test_output.log -output my_report.txt -chart my_chart.html
```

## 生成的报告内容

分析报告包含以下主要部分：

1. **基本信息**：测试持续时间、数据点数量等
2. **GOGC调优分析**：GOGC的最小值、最大值、平均值、调整次数和调整间隔
3. **内存使用分析**：堆内存最大值、平均值、最大和平均内存使用率
4. **GC活动分析**：GC总次数、平均频率、最大和平均CPU耗时
5. **GOGC与内存使用率关系**：不同内存使用率区间对应的平均GOGC值
6. **结论与建议**：根据数据分析提供的优化建议

## 生成的图表内容

HTML图表是交互式的，可以通过鼠标悬停查看具体数值，主要包含以下四个图表：

1. **内存占用随时间变化**：显示堆内存（MB）和内存使用率（%）随时间变化
2. **GC次数随时间变化**：每个时间点的GC增量计数
3. **CPU耗时随时间变化**：GC的CPU耗时（毫秒）随时间变化
4. **GOGC值随时间变化**：GOGC调整值随时间的变化

## 注意事项

- 日志文件必须包含GOGCTuner的指标输出，格式为"指标报告 - GOGC: ..."
- 时间戳需遵循格式"YYYY/MM/DD HH:MM:SS"
- 要分析GC CPU耗时，日志中需包含"GC耗时: xx.xxms"格式的输出 